(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"0zAF":function(t,e,n){},"1Wo5":function(t,e,n){"use strict";n.r(e);n("0zAF"),n("BEsy"),n("yXV3"),n("pDQq"),n("eoL8"),n("rB9j"),n("UxlC"),n("fbCW"),n("07d7"),n("QWBl"),n("FZtP"),n("4l63");var s=n("EVdn"),o=n.n(s);function i(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r=function(){function t(e,n,s,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.answers=[],this.count=e,this.progress=n,this.showAnswer=s,this.textOnRight=o,this.textOnWrong=i}var e,n,s;return e=t,(n=[{key:"addAnswer",value:function(t){this.answers.push(t)}},{key:"setAnswer",value:function(t){this.clearAnswers(),this.answers.push(t)}},{key:"getAllAnswers",value:function(){return this.answers}},{key:"getAnswer",value:function(t){return this.answers[t]}},{key:"getAnswerKey",value:function(t){return this.answers.indexOf(t)}},{key:"removeAnswer",value:function(t){this.answers.splice(t,1)}},{key:"clearAnswers",value:function(){this.answers=[]}}])&&i(e.prototype,n),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.TestContext=r,window.question=null,o()((function(){var t=o()("body"),e=(o()("#test-preview-screen"),o()("#test__start-form")),n=o()("#test__ajax-screen"),s=o()(".start-test"),i=o()(".restore-test"),r=!1;o()("#toast-place").on("click",".toast",(function(t){o()(this).toast("hide")})),s.on("click",(function(t){return console.log("click start btn()"),_(),!1})),i.on("click",(function(t){return w((function(){v(c()+"&restore=1")})),!1})),t.on("click","#test-question-back-btn",(function(t){return v(a()+"&back=1"),!1})),t.on("click","#test-question-next-btn",(function(t){return v(a()),!1})),t.on("click",".test__btn-again",(function(t){return _(),!1})),t.on("change",'.test__question-form input[name="answer"]',(function(t){return"RATING"===o()(this).data("method")?u(this):"CHECKBOX"===o()(this).data("method")?l(this):"TEXT"===o()(this).data("method")?f():d(t,this),!1}));var a=function(){var e=t.find(".test__question-form").serialize().replace(/&answer=(.*[^&])?/g,"");return question.getAllAnswers().length>0?question.getAllAnswers().forEach((function(t){e+="&answer[]="+t})):e+="&answer[]= ",e},c=function(){return e.serialize()},u=function(t){question.addAnswer(o()(t).val());var e=o()(t).parents(".test__options_holder").find(".test__option").length,n=o()(t).parent(".test__option");n.fadeOut(200).promise().done((function(){o()(n).remove(),r&&auto()})),1===e&&(o()(".test__option").remove(),v(a()))},l=function(t){var e=question.getAnswerKey(o()(t).val());p(),e>-1?(o()(t).prop("checked",!1),question.removeAnswer(e)):(o()(t).attr("checked","checked"),question.addAnswer(o()(t).val()));var n=o()(".test__question-form").find('input[type="checkbox"]');if(question.getAllAnswers().length>=parseInt(o()(t).data("limit"))){var s=n.not(":checked");s.attr("disabled","disabled"),s.parent().addClass("disabled")}else n.removeAttr("disabled"),n.parent().removeClass("disabled")},d=function(t,e){question.setAnswer(o()(e).val()),question.showAnswer?(p(),o()(".test__option").each((function(t,n){var s=o()(n).children("input");s[0]===e?(o()(n).addClass("test__option_chosen"),1===o()(e).data("is-correct")?(o()(n).addClass("test__option_correct"),null!=question.textOnRight&&o()(n).find(".test__option-reveal").html(question.textOnRight).show()):(o()(n).addClass("test__option_wrong"),null!=question.textOnWrong&&o()(n).find(".test__option-reveal").html(question.textOnWrong).show())):!0===s.data("is-correct")&&o()(n).addClass("test__option_correct"),s.prop("disabled",!0)}))):v(a())},f=function(){question.clearAnswers(),o()('.test__question-form input[name="answer"]').each((function(t,e){question.addAnswer(o()(e).val())}))},h=new function(){this.next=function(t,e,n){o.a.ajax("/tests/api/",{data:t,method:"POST","Content-Type":"text/html"}).done((function(t,n,s){e(t,s)})).fail((function(t){console.log("error",t),n()}))}};function p(){o()("#test-question-next-btn").addClass("test__btn-direct_forced")}function w(t){o()("#test-screens-wrapper > *").hide().promise().done(t)}function _(){w((function(){v(c()+"&clear=1")}))}function v(t){h.next(t,(function(t,e){var s;s=t,n.is(":hidden")?n.html(s).fadeIn():n.hide().promise().done((function(){n.html(s),r?(n.show(),auto()):n.fadeIn()})),e.getResponseHeader("result-uuid")&&window.location.replace("/tests/result/"+e.getResponseHeader("result-uuid")+"/")}),(function(){var t,e,n;t="Произошла ошибка",n="primary",void 0!==(e="danger")&&(n=e),o()("#toast-place").append('<div class="toast fade show" data-delay="2000"><div class="toast-body bg-'+n+' text-white">'+t+' <span aria-hidden="true">&times;</span></div></div>'),o()(".toast").toast({delay:5e3,animation:!0})}))}window.auto=function(){r=!0;var t,e=o()("body").find('.test__question-form input[name="answer"]');if("text"===o()(e[0]).prop("type"))e.each((function(t,e){o()(e).val(42)})),o()("#test-question-next-btn").click();else if("radio"===o()(e[0]).prop("type")){var n=(t=e.length,Math.floor(Math.random()*Math.floor(t)));o()(e[n]).click()}}}));n("SYky")},BEsy:function(t,e,n){}},[["1Wo5","runtime",0,2]]]);