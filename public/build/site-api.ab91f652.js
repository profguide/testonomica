(window.webpackJsonp=window.webpackJsonp||[]).push([["site-api"],{GRnc:function(e,t,n){},rElG:function(e,t,n){"use strict";n.r(t);n("OFMY");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}var t,n,o;return t=e,(n=[{key:"addEventListener",value:function(e,t){this.listeners[e]=t}},{key:"dispatchEvent",value:function(e){this.listeners[e.type]&&this.listeners[e.type](e.detail)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),i=(n("FkMe"),n("2YQn"),n("E4CL"),n("cq0V"),n("hn/i"),"option"),a="checkbox",c="text",u="rating",s="gradient",l="https://testonomica.com",f=n("ZNds"),p=n.n(f);n("jWWK"),n("JwX+");function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.questionId=t,this.value=n}var t,n,r;return t=e,r=[{key:"createImmutable",value:function(t,n){var r=new e(t,n);return Object.freeze(this),r}}],(n=null)&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageName="testonomica_test_"+t,localStorage.getItem(this.storageName)||this._initLocalStorage()}var t,n,r;return t=e,(n=[{key:"resultKey",value:function(){return this._getStorageData().resultKey}},{key:"clear",value:function(){this._initLocalStorage()}},{key:"addAnswer",value:function(e){var t=this._getStorageData().answers;t[e.questionId]=e.value,this._updateField("answers",t)}},{key:"getAnswers",value:function(){return this._getStorageData().answers}},{key:"getLastAnswer",value:function(){var e=this._getStorageData().answers,t=Object.keys(e),n=t[t.length-1],r=e[n];return d.createImmutable(n,r)}},{key:"getLength",value:function(){return Object.keys(this._getStorageData().answers).length}},{key:"getStatus",value:function(){var e=this._getStorageData();return e.resultKey?2:Object.keys(e.answers).length>0?1:0}},{key:"setFinished",value:function(e){this._updateField("resultKey",e)}},{key:"_getStorageData",value:function(){return JSON.parse(localStorage.getItem(this.storageName))}},{key:"_initLocalStorage",value:function(){var e=JSON.stringify({resultKey:null,answers:{}});localStorage.setItem(this.storageName,e)}},{key:"_updateField",value:function(e,t){var n=this._getStorageData();n[e]=t,this._update(n)}},{key:"_update",value:function(e){localStorage.setItem(this.storageName,JSON.stringify(e))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n("0mmc"),n("mGh6");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var g=v((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.name=t.name,this.text=t.text,this.img=t.img,this.type=t.type,this.count=t.count,this.timer=t.timer,this.enabledBack=t.enabledBack,this.enabledForward=t.enabledForward,this.number=t.number,this.length=t.length,this.options=t.options}));function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=O((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=t.value,this.text=t.text,this.img=t.img}));n("5Uum"),n("cZDs");function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),![i,a,c,u,s].includes(t)){var n="Unknown question type: "+t;throw console.error(n),new Error(n)}this.value=t}var t,n,r;return t=e,(n=[{key:"get",value:function(){return this.value}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"hydrate",value:function(e){var t=new k(e.data.question.type);Object.freeze(t);var n=e.data.question.items.map((function(e){return new _({value:e.value,text:e.text,img:e.img})})),r=new g({id:e.data.question.id,name:e.data.question.name,text:e.data.question.text,img:e.data.question.img,enabledBack:e.data.question.enabledBack,enabledForward:e.data.question.enabledForward,count:parseInt(e.data.question.count),timer:parseInt(e.data.question.timer),number:e.data.number,length:e.data.length,type:t,options:n});return Object.freeze(r),r}}])&&P(t.prototype,n),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.description=n,this.price=r,this.count=o,this.sum=i}var t,n,r;return t=e,r=[{key:"createImmutable",value:function(t,n,r,o,i){var a=new e(t,n,r,o,i);return Object.freeze(this),a}}],(n=null)&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(R(this,e),!n.testId)throw new Error("testId must be defined.");this.testId=n.testId,this.host=null!==(t=n.host)&&void 0!==t?t:l,this.token=n.token,this.storage=new h(n.testId),this.test=null,this.question=null}var t,n,r;return t=e,(n=[{key:"hasAccess",value:function(){var e={method:"get",url:this.host+"/access/has/",responseType:"json"};return this.token&&(e.headers={token:this.token}),p()(e).then((function(e){return e.data.status}))}},{key:"grand",value:function(){var e=this;return p()(this.tokenizedRequest({method:"get",url:this.host+"/access/grand/",responseType:"json"})).then((function(t){return e.token=t.data.token,!0}))}},{key:"getOrder",value:function(){return p()(this.tokenizedRequest({method:"get",url:this.host+"/access/order/",responseType:"json"})).then((function(e){var t=e.data.order;return new q(t.id,t.description,t.price,t.count,t.sum)}))}},{key:"description",value:function(){var e=this;return p()({method:"get",url:this.buildUrl("/info/"+this.testId+"/"),responseType:"json"}).then((function(t){return e.test={name:t.data.name,description:t.data.description,duration:t.data.duration,length:t.data.length,paid:t.data.paid},e.test}))}},{key:"progressStatus",value:function(){return this.storage.getStatus()}},{key:"progressFull",value:function(){return this.test.length===this.storage.getLength()}},{key:"saveResult",value:function(){var e=this;return console.log("Saving..."),p.a.post(this.buildUrl("/save/"+this.testId+"/"),{progress:this.storage.getAnswers()},{headers:{token:this.token}}).then((function(t){e.token=t.headers["x-token"];var n=t.data.key;return e.storage.setFinished(n),n}))}},{key:"result",value:function(){var e=this;return console.log(this.token),p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/result/".concat(this.testId,"/?key=").concat(this.storage.resultKey()))})).then((function(t){return e.token=t.headers["x-token"],t}))}},{key:"resultKey",value:function(){return this.storage.resultKey()}},{key:"clear",value:function(){this.storage.clear()}},{key:"first",value:function(){var e=this;return p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/first/"+this.testId+"/"),responseType:"json"})).then((function(t){return e.token=t.headers["x-token"],e.question=(new E).hydrate(t),e.question}))}},{key:"next",value:function(){var e,t=this;return e=this.question?this.question.id:this.storage.getLastAnswer().questionId,p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/next/"+this.testId+"/?q="+e),responseType:"json"})).then((function(e){return t.token=e.headers["x-token"],t.question=(new E).hydrate(e),t.question}))}},{key:"prev",value:function(){var e=this;return p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/prev/"+this.testId+"/?q="+this.question.id),responseType:"json"})).then((function(t){return e.token=t.headers["x-token"],e.question=(new E).hydrate(t),e.question}))}},{key:"addAnswer",value:function(e){this.storage.addAnswer(d.createImmutable(this.question.id,e))}},{key:"buildUrl",value:function(e){return this.host+"/tests/api/v1"+e}},{key:"getToken",value:function(){return this.token}},{key:"tokenizedRequest",value:function(e){return this.token&&(e.headers={token:this.token}),e}}])&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),B=n("BOQu"),x=n.n(B),N=(n("Z9zv"),n("VaP8"),n("vMvy"),n("3xXD"),n("uBt9"),n("1Hrs"),n("uI+l"),n("zMAM"),n("8wvG"),n("N1ff"),n("wrb1"),n("wbXW"),n("o6Ch"),n("1T59"),n("QuQS")),T=n.n(N);n("qhgk"),n("aKct"),n("3b96"),n("rM4P");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).api=e.api,t.state={error:null,isLoading:!0,result:null},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.api.result().then((function(t){e.setState(D(D({},e.state),{},{isLoading:!1,result:t.data}))})).catch((function(t){console.error(t),e.setState(D(D({},e.state),{},{isLoading:!1,error:"Произошла ошибка во время загрузки результата."}))}))}},{key:"render",value:function(){if(this.state.isLoading)return"Загрузка результата...";if(this.state.error)return this.state.error;var e="https://testonomica.com/tests/result/"+this.api.resultKey()+"/";return T.a.createElement("div",{className:"tnc-result"},T.a.createElement("h1",{className:"tnc-result__title"},this.props.test.name),T.a.createElement("h2",{className:"tnc-result__subtitle"},"Ваши результаты:"),T.a.createElement("article",{className:"tnc-result__text",dangerouslySetInnerHTML:{__html:this.state.result}}),T.a.createElement("p",null,T.a.createElement("span",{style:{fontWeight:"bold"}},"Постоянная ссылка на результат:"),T.a.createElement("br",null),T.a.createElement("a",{href:e},e)),T.a.createElement("button",{onClick:this.props.restartClickHandler,className:"tnc-btn tnc-result__btn-restart"},"Пройти тест заново"))}}])&&A(t.prototype,n),r&&A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,n,r,o=X(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"render",value:function(){var e;return e=1===this.props.status?T.a.createElement("div",{className:"tnc-welcome__btns"},T.a.createElement("button",{onClick:this.props.restoreClickHandler,className:"tnc-btn tnc-welcome__btn tnc-welcome__btn_restore"},"Продолжить тест"),T.a.createElement("button",{onClick:this.props.startClickHandler,className:"tnc-btn tnc-welcome__btn tnc-welcome__btn_restart"},"Начать сначала")):T.a.createElement("div",{className:"tnc-welcome__btns"},T.a.createElement("button",{onClick:this.props.startClickHandler,className:"tnc-btn tnc-welcome__btn tnc-welcome__btn_start"},"Начать")),T.a.createElement("div",{className:"tnc-welcome"},T.a.createElement("h1",{className:"tnc-welcome__title"},this.props.test.name),T.a.createElement("div",{className:"tnc-welcome__duration"},this.props.test.duration," минут"),T.a.createElement("div",{className:"tnc-welcome__description",dangerouslySetInnerHTML:{__html:this.props.test.description}}),e)}}])&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);n("CE4t");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(i,e);var t,n,r,o=ne(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"render",value:function(){var e=null,t=null;return this.props.enabledBack&&(e=T.a.createElement("button",{disabled:this.props.isLoading,onClick:this.props.goBackHandler,className:"tnc-btn tnc-q-nav__btn tnc-q-nav__btn_back"},"←")),this.props.enabledForward&&(t=T.a.createElement("button",{disabled:this.props.isLoading,onClick:this.props.goForwardHandler,className:"tnc-btn tnc-q-nav__btn tnc-q-nav__btn_forward"},"→")),T.a.createElement("div",{className:"tnc-q-form__nav tnc-q-nav"},e," ",t)}}])&&ee(t.prototype,n),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(i,e);var t,n,r,o=se(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).options=t.options.bind(fe(t)),t}return t=i,(n=[{key:"options",value:function(){var e=this;return this.props.options.map((function(t,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},t.img?T.a.createElement("img",{src:t.img,style:{maxHeight:"100px"},onClick:e.props.isLoading?null:function(){return e.props.selectionHandler(t.value)},className:"tnc-q-form__option-img",alt:"Изображение"}):T.a.createElement("button",{disabled:e.props.isLoading,onClick:function(){return e.props.selectionHandler(t.value)},className:"tnc-btn tnc-q-form__option-btn"},t.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(ie,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.props.enabledForward,goForwardHandler:this.props.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&ce(t.prototype,n),r&&ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);n("p36N"),n("UuEv");function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(i,e);var t,n,r,o=we(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={options:e.options,values:[],enabledForward:!1},t.options=t.options.bind(_e(t)),t.goForwardHandler=t.goForwardHandler.bind(_e(t)),t}return t=i,(n=[{key:"clickHandler",value:function(e,t){var n=this.state.values,r=n.indexOf(e);r>-1?n.splice(r,1):n.push(e);var o=n.length===this.props.count;this.setState(he(he({},this.state),{},{values:n,enabledForward:o}))}},{key:"goForwardHandler",value:function(){this.props.goForwardHandler(this.state.values)}},{key:"options",value:function(){var e=this;return this.state.options.map((function(t,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},t.img?T.a.createElement("img",{src:t.img,style:{maxHeight:"100px"},onClick:function(){return e.props.selectionHandler(t.value)},className:"tnc-q-form__option-img "+ +(e.state.values.includes(t.value)?"tnc-q-form__option-img_selected":""),alt:"Изображение"}):T.a.createElement("button",{disabled:e.props.isLoading,onClick:function(){return e.props.selectionHandler(t.value)},className:"tnc-btn tnc-q-form__option-btn "+(e.state.values.includes(t.value)?"tnc-q-form__option-btn_selected":"")},t.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(ie,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.state.enabledForward,goForwardHandler:this.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&ve(t.prototype,n),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(i,e);var t,n,r,o=qe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={values:[]},t.options=t.options.bind(He(t)),t.onChange=t.onChange.bind(He(t)),t}return t=i,(n=[{key:"onChange",value:function(e,t){var n=this.state.values;n[t]=e,this.setState({values:n})}},{key:"options",value:function(){var e=this;return this.props.options.map((function(t,n){var r;return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},T.a.createElement("input",{disabled:e.props.isLoading,onChange:function(t){return e.onChange(t.target.value,n)},placeholder:t.text,value:null!==(r=e.state.values[n])&&void 0!==r?r:"",className:"tnc-q-form__option-text"}))}))}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(ie,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:!0,goForwardHandler:function(){return e.props.selectionHandler(e.state.values)},goBackHandler:this.props.goBackHandler}))}}])&&Ee(t.prototype,n),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}(i,e);var t,n,r,o=Fe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={options:t.props.options,values:[]},t.options=t.options.bind(De(t)),t}return t=i,(n=[{key:"clickHandler",value:function(e,t){var n=this.state.values;n.push(e);var r=this.state.options;r.splice(t,1),this.setState({values:n,options:r}),0===r.length&&this.props.selectionHandler(n)}},{key:"options",value:function(){var e=this;return this.state.options.map((function(t,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},T.a.createElement("button",{disabled:e.props.isLoading,onClick:function(){return e.clickHandler(t.value,n)},className:"tnc-btn tnc-q-form__option-btn"},t.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(ie,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.props.enabledForward,goForwardHandler:this.props.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&Ne(t.prototype,n),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qe(e)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(i,e);var t,n,r,o=Ke(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).options=t.options.bind(Qe(t)),t}return t=i,(n=[{key:"options",value:function(){var e=this;return this.props.options.map((function(t,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},T.a.createElement("button",{disabled:e.props.isLoading,onClick:function(){return e.props.selectionHandler(t.value)},className:"tnc-btn tnc-q-form__option-btn"},t.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options tnc-q-form__options_gradient"},this.options()),T.a.createElement(ie,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.props.enabledForward,goForwardHandler:this.props.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&Me(t.prototype,n),r&&Me(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(i,e);var t,n,r,o=Ye(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"render",value:function(){var e=100*(this.props.number-1)/this.props.length;return T.a.createElement("div",{className:"tnc-q__progress-bar tnc-q-progress-bar"},T.a.createElement("div",{className:"tnc-q-progress-bar__counters"},T.a.createElement("span",null,this.props.number),"/",T.a.createElement("span",null,this.props.length)),T.a.createElement("div",{className:"tnc-q-progress-bar__line-wrapper"},T.a.createElement("div",{className:"tnc-q-progress-bar__line",role:"progressbar",style:{width:e+"%"},"aria-valuenow":e,"aria-valuemin":e,"aria-valuemax":"100"})))}}])&&Ze(t.prototype,n),r&&Ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(i,e);var t,n,r,o=at(i);function i(){return rt(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return T.a.createElement("article",{className:"tnc-q-loading"},T.a.createElement("h2",{className:"tnc-q-loading__name tnc-stage"}),T.a.createElement("div",{className:"tnc-q-loading__form"},T.a.createElement("div",{className:"tnc-q-loading__form-q tnc-q-loading__form-q_1 tnc-stage"}),T.a.createElement("div",{className:"tnc-q-loading__form-q tnc-q-loading__form-q_2 tnc-stage"})),T.a.createElement("div",{className:"tnc-q-loading__progress-bar tnc-stage"}))}}])&&ot(t.prototype,n),r&&ot(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);n("9idD");function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(i,e);var t,n,r,o=ht(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).interval=null,t.state={timer:e.timer>0?e.timer:null,timeOut:!1},t.timeOut=t.timeOut.bind(vt(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){if(this.state.timer){console.log("timer",this.state.timer);var e=this;this.interval=setInterval((function(){e.state.timer>1?e.setState(pt(pt({},e.state),{},{timer:e.state.timer-1})):(clearInterval(e.interval),e.timeOut())}),1e3)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"timeOut",value:function(){console.log("timeout"),this.setState(pt(pt({},this.state),{},{timeOut:!0}))}},{key:"render",value:function(){return this.state.timeOut?T.a.createElement("div",null,T.a.createElement("p",null,"Закончилось время, отведённое на вопрос (",this.props.timer," секунд). Нажмите кнопку продолжить, когда будете готовы продолжить тест."),T.a.createElement("button",{onClick:this.props.goForwardHandler,className:"btn btn-primary"},"Продолжить")):this.props.children}}])&&dt(t.prototype,n),r&&dt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(N.Component);function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(e,t){if(t&&("object"===Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rt(e)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(l,e);var t,n,r,o=St(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={isLoading:!0,error:null,question:null},t.api=e.api;var n={};return n[i]=ye,n[a]=ke,n[c]=Be,n[u]=Ae,n[s]=Je,t.formTypeMap=n,t.selectionHandler=t.selectionHandler.bind(Rt(t)),t.goForwardHandler=t.goForwardHandler.bind(Rt(t)),t.goBackHandler=t.goBackHandler.bind(Rt(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){"restore"===this.props.task?this.next():this.start()}},{key:"selectionHandler",value:function(e){this.saveAndForward(e)}},{key:"start",value:function(){this.setState(jt(jt({},this.state),{},{isLoading:!0})),this.api.clear(),this.wrapQuestionResponse(this.api.first())}},{key:"next",value:function(){this.setState(jt(jt({},this.state),{},{isLoading:!0})),this.wrapQuestionResponse(this.api.next())}},{key:"prev",value:function(){this.setState(jt(jt({},this.state),{},{isLoading:!0})),this.wrapQuestionResponse(this.api.prev())}},{key:"goForwardHandler",value:function(){this.saveAndForward(null)}},{key:"goBackHandler",value:function(){this.prev()}},{key:"saveAndForward",value:function(e){this.api.addAnswer(e),this.api.progressFull()?this.props.questionsOverHandler():this.next()}},{key:"wrapQuestionResponse",value:function(e){var t=this;this.wrapResponse(e,(function(e){t.setState(jt(jt({},t.state),{},{isLoading:!1,question:e}))}))}},{key:"wrapResponse",value:function(e,t){var n=this;e.then(t).catch((function(e){var t="Произошла ошибка во время загрузки.";403===e.response.status&&(t="Отказано в доступе."),n.setState(jt(jt({},n.state),{},{isLoading:!1,error:t})),console.error(e.response.data.detail),console.error(e)}))}},{key:"render",value:function(){if(this.state.error)return this.state.error;if(null===this.state.question)return T.a.createElement(st,null);var e=this.state.question,t=e.options,n=e.type.get(),r=e.enabledForward&&e.number<e.length,o=e.enabledBack&&e.number>1,i=this.formTypeMap[n];return T.a.createElement("article",{className:"tnc-q tnc-q__"+this.props.testId+"-"+e.id},T.a.createElement(wt,{timer:e.timer,goForwardHandler:this.goForwardHandler,key:e.id},e.img?T.a.createElement("img",{className:"tnc-q__img",src:e.img,alt:"Задание"}):null,T.a.createElement("h2",{className:"tnc-q__name"},e.name),e.text?T.a.createElement("div",{className:"tnc-q__text",dangerouslySetInnerHTML:{__html:e.text}}):null,T.a.createElement(i,{key:e.id,options:t,isLoading:this.state.isLoading,enabledBack:o,enabledForward:r,selectionHandler:this.selectionHandler,goForwardHandler:this.goForwardHandler,goBackHandler:this.goBackHandler}),T.a.createElement(tt,{length:e.length,number:e.number})))}}])&&Pt(t.prototype,n),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(N.Component),Bt=function(e,t,n,r,o,i,a,c){"function"!=typeof c&&(c=function(){});var u={cloudPayments:{CustomerReceipt:{Items:[{label:t,price:n,quantity:r,amount:o,vat:0,method:1,object:4,measurementUnit:"шт"}],taxationSystem:1,isBso:!1,AgentSign:null,amounts:{electronic:o}}}};(new cp.CloudPayments).pay("charge",{publicId:"pk_4b7104d27e7b85f12bb8524658b16",description:t,amount:o,currency:"RUB",invoiceId:e,skin:"mini",data:u},{onSuccess:i,onFail:a,onComplete:c})};function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zt(e)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(i,e);var t,n,r,o=It(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isLoading:!0,isOpened:!1,error:null},t.onSuccess=t.onSuccess.bind(zt(t)),t.onFail=t.onFail.bind(zt(t)),t.initPaymentWidget=t.initPaymentWidget.bind(zt(t)),t.setBodyHeightAuto=t.setBodyHeightAuto.bind(zt(t)),t.setBodyFixHeight=t.setBodyFixHeight.bind(zt(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.wrapRequest(this.props.api.hasAccess(),(function(t){e.setState(Tt(Tt({},e.state),{},{isLoading:!1})),t?e.props.onAccessed():e.initPaymentWidget()}))}},{key:"componentWillUnmount",value:function(){this.setBodyHeightAuto()}},{key:"initPaymentWidget",value:function(){var e=this;this.setState(Tt(Tt({},this.state),{},{isLoading:!0})),this.wrapRequest(this.props.api.getOrder(),(function(t){e.setBodyFixHeight(),new Bt(t.id,t.description,t.price,t.count,t.sum,e.onSuccess,e.onFail),e.setState(Tt(Tt({},e.state),{},{isOpened:!0,isLoading:!1}))}))}},{key:"onSuccess",value:function(){var e=this;this.setBodyHeightAuto(),this.setState(Tt(Tt({},this.state),{},{isOpened:!1})),this.wrapRequest(this.props.api.grand(),(function(){e.props.onAccessed()}))}},{key:"onFail",value:function(){this.setBodyHeightAuto(),this.setState(Tt(Tt({},this.state),{},{isOpened:!1}))}},{key:"setBodyFixHeight",value:function(){document.body.style.height="600px"}},{key:"setBodyHeightAuto",value:function(){document.body.style.height="auto"}},{key:"wrapRequest",value:function(e,t){var n=this;e.then(t).catch((function(e){var t="Произошла ошибка во время загрузки.";403===e.response.status&&(t="Отказано в доступе."),n.setState(Tt(Tt({},n.state),{},{isLoading:!1,error:t})),console.error(e.response.data.detail),console.error(e)}))}},{key:"render",value:function(){return this.state.error?T.a.createElement("div",{className:"container"},this.state.error):this.state.isLoading||this.state.isOpened?null:T.a.createElement("div",{className:"container"},T.a.createElement("div",null,"Требуется оплата."),T.a.createElement("button",{className:"btn btn-primary",onClick:this.initPaymentWidget},"Нажмите, чтобы перейти к оплате"))}}])&&Lt(t.prototype,n),r&&Lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(T.a.Component);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xt=function(e){var t=e.api,n=Gt(Object(N.useState)({isLoading:!0,error:null,test:null,screen:null,quizTask:null,mainDivRef:null}),2),r=n[0],o=n[1],i=function(t){e.dispatcher&&e.dispatcher.dispatchEvent(t)},a=function(e,t){e.then(t).catch((function(e){var t="Произошла ошибка во время загрузки.";403===e.response.status&&(t="Отказано в доступе."),o(Wt(Wt({},r),{},{isLoading:!1,error:t})),console.error(e.response.data.detail),console.error(e)}))},c=function(){o(Wt(Wt({},r),{},{screen:"quiz",quizTask:"start"}))};return Object(N.useEffect)((function(){new ResizeObserver((function(e){i(new CustomEvent("resize",{detail:e}))})).observe(document.body),a(t.description(),(function(e){t.progressFull()&&1===t.progressStatus()?a(t.saveResult(),(function(t){i(new CustomEvent("loaded")),i(new CustomEvent("finish",{detail:{key:t}})),o(Wt(Wt({},r),{},{isLoading:!1,test:e,screen:"result"}))})):2===t.progressStatus()?(i(new CustomEvent("loaded")),o(Wt(Wt({},r),{},{isLoading:!1,test:e,screen:"result"}))):(i(new CustomEvent("loaded")),e.paid?o(Wt(Wt({},r),{},{isLoading:!1,test:e,screen:"payment"})):o(Wt(Wt({},r),{},{isLoading:!1,test:e,screen:"welcome"})))}))}),[]),r.isLoading?null:r.error?r.error:"payment"===r.screen?T.a.createElement(Ut,{api:t,onAccessed:function(){o(Wt(Wt({},r),{},{isLoading:!1,screen:"welcome"}))},dispatcher:e.dispatcher}):r.test?T.a.createElement("div",{id:"tnc",className:"tnc"},T.a.createElement("div",{className:"container"},"result"===r.screen?T.a.createElement(W,{api:t,test:r.test,restartClickHandler:c}):null,"welcome"===r.screen?T.a.createElement(Y,{test:r.test,status:t.progressStatus(),startClickHandler:c,restoreClickHandler:function(){o(Wt(Wt({},r),{},{screen:"quiz",quizTask:"restore"}))}}):null,"quiz"===r.screen?T.a.createElement(Ct,{testId:t.testId,api:t,questionsOverHandler:function(){o(Wt(Wt({},r),{},{isLoading:!0})),a(t.saveResult(),(function(e){i(new CustomEvent("finish",{detail:{key:e}})),o(Wt(Wt({},r),{},{isLoading:!1,screen:"result"}))}))},task:r.quizTask}):null)):null};function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vt,Yt,$t,en=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.testId=t,this.host=n,this.token=r,this.dispatcher=new o}var t,n,r;return t=e,(n=[{key:"createApp",value:function(e){var t=new C({testId:this.testId,host:this.host,token:this.token});x.a.render(T.a.createElement(Xt,{api:t,dispatcher:this.dispatcher}),e)}},{key:"addEventListener",value:function(e,t){this.dispatcher.addEventListener(e,t)}}])&&Zt(t.prototype,n),r&&Zt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),tn=(n("GRnc"),document.getElementById("testonomica_app")),nn=tn.getAttribute("data-test");if(!nn)throw new Error("tag must include attribute: data-test");var rn=null!==(Vt=tn.getAttribute("data-host"))&&void 0!==Vt?Vt:"https://testonomica.com",on=null!==(Yt=tn.getAttribute("data-token"))&&void 0!==Yt?Yt:null,an=null!==($t=tn.getAttribute("data-init"))&&void 0!==$t?$t:null;window.testonomica=new en(nn,rn,on),an&&"auto"!==an||window.testonomica.createApp(tn)}},[["rElG","runtime",1]]]);