(window.webpackJsonp=window.webpackJsonp||[]).push([["test"],{GRnc:function(t,e,n){},lXwp:function(t,e,n){"use strict";n.r(e);n("OFMY");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}var e,n,o;return e=t,(n=[{key:"addEventListener",value:function(t,e){this.listeners[t]=e}},{key:"dispatchEvent",value:function(t){this.listeners[t.type]&&this.listeners[t.type](t.detail)}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),i=(n("FkMe"),n("2YQn"),n("E4CL"),n("cq0V"),n("hn/i"),"option"),a="checkbox",c="text",u="rating",s="gradient",l="https://testonomica.com",f=n("ZNds"),p=n.n(f);n("jWWK"),n("JwX+");function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.questionId=e,this.value=n}var e,n,r;return e=t,r=[{key:"createImmutable",value:function(e,n){var r=new t(e,n);return Object.freeze(this),r}}],(n=null)&&y(e.prototype,n),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageName="testonomica_test_"+e,localStorage.getItem(this.storageName)||this._initLocalStorage()}var e,n,r;return e=t,(n=[{key:"resultKey",value:function(){return this._getStorageData().resultKey}},{key:"clear",value:function(){this._initLocalStorage()}},{key:"addAnswer",value:function(t){var e=this._getStorageData().answers;e[t.questionId]=t.value,this._updateField("answers",e)}},{key:"getAnswers",value:function(){return this._getStorageData().answers}},{key:"getLastAnswer",value:function(){var t=this._getStorageData().answers,e=Object.keys(t),n=e[e.length-1],r=t[n];return d.createImmutable(n,r)}},{key:"getLength",value:function(){return Object.keys(this._getStorageData().answers).length}},{key:"getStatus",value:function(){var t=this._getStorageData();return t.resultKey?2:Object.keys(t.answers).length>0?1:0}},{key:"setFinished",value:function(t){this._updateField("resultKey",t)}},{key:"_getStorageData",value:function(){return JSON.parse(localStorage.getItem(this.storageName))}},{key:"_initLocalStorage",value:function(){var t=JSON.stringify({resultKey:null,answers:{}});localStorage.setItem(this.storageName,t)}},{key:"_updateField",value:function(t,e){var n=this._getStorageData();n[t]=e,this._update(n)}},{key:"_update",value:function(t){localStorage.setItem(this.storageName,JSON.stringify(t))}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n("0mmc"),n("mGh6");function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var g=v((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.name=e.name,this.text=e.text,this.img=e.img,this.type=e.type,this.count=e.count,this.timer=e.timer,this.enabledBack=e.enabledBack,this.enabledForward=e.enabledForward,this.number=e.number,this.length=e.length,this.options=e.options}));function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var _=O((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e.value,this.text=e.text,this.img=e.img}));n("5Uum"),n("cZDs");function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),![i,a,c,u,s].includes(e)){var n="Unknown question type: "+e;throw console.error(n),new Error(n)}this.value=e}var e,n,r;return e=t,(n=[{key:"get",value:function(){return this.value}}])&&j(e.prototype,n),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"hydrate",value:function(t){var e=new k(t.data.question.type);Object.freeze(e);var n=t.data.question.items.map((function(t){return new _({value:t.value,text:t.text,img:t.img})})),r=new g({id:t.data.question.id,name:t.data.question.name,text:t.data.question.text,img:t.data.question.img,enabledBack:t.data.question.enabledBack,enabledForward:t.data.question.enabledForward,count:parseInt(t.data.question.count),timer:parseInt(t.data.question.timer),number:t.data.number,length:t.data.length,type:e,options:n});return Object.freeze(r),r}}])&&P(e.prototype,n),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var q=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.description=n,this.price=r,this.count=o,this.sum=i}var e,n,r;return e=t,r=[{key:"createImmutable",value:function(e,n,r,o,i){var a=new t(e,n,r,o,i);return Object.freeze(this),a}}],(n=null)&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(R(this,t),!n.testId)throw new Error("testId must be defined.");this.testId=n.testId,this.host=null!==(e=n.host)&&void 0!==e?e:l,this.token=n.token,this.storage=new h(n.testId),this.test=null,this.question=null}var e,n,r;return e=t,(n=[{key:"hasAccess",value:function(){var t={method:"get",url:this.host+"/access/has/",responseType:"json"};return this.token&&(t.headers={token:this.token}),p()(t).then((function(t){return t.data.status}))}},{key:"grand",value:function(){var t=this;return p()(this.tokenizedRequest({method:"get",url:this.host+"/access/grand/",responseType:"json"})).then((function(e){return t.token=e.data.token,!0}))}},{key:"getOrder",value:function(){return p()(this.tokenizedRequest({method:"get",url:this.host+"/access/order/",responseType:"json"})).then((function(t){var e=t.data.order;return new q(e.id,e.description,e.price,e.count,e.sum)}))}},{key:"description",value:function(){var t=this;return p()({method:"get",url:this.buildUrl("/info/"+this.testId+"/"),responseType:"json"}).then((function(e){return t.test={name:e.data.name,description:e.data.description,duration:e.data.duration,length:e.data.length,paid:e.data.paid},t.test}))}},{key:"progressStatus",value:function(){return this.storage.getStatus()}},{key:"progressFull",value:function(){return this.test.length===this.storage.getLength()}},{key:"saveResult",value:function(){var t=this;return console.log("Saving..."),p.a.post(this.buildUrl("/save/"+this.testId+"/"),{progress:this.storage.getAnswers()},{headers:{token:this.token}}).then((function(e){t.token=e.headers["x-token"];var n=e.data.key;return t.storage.setFinished(n),n}))}},{key:"result",value:function(){var t=this;return console.log(this.token),p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/result/".concat(this.testId,"/?key=").concat(this.storage.resultKey()))})).then((function(e){return t.token=e.headers["x-token"],e}))}},{key:"resultKey",value:function(){return this.storage.resultKey()}},{key:"clear",value:function(){this.storage.clear()}},{key:"first",value:function(){var t=this;return p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/first/"+this.testId+"/"),responseType:"json"})).then((function(e){return t.token=e.headers["x-token"],t.question=(new E).hydrate(e),t.question}))}},{key:"next",value:function(){var t,e=this;return t=this.question?this.question.id:this.storage.getLastAnswer().questionId,p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/next/"+this.testId+"/?q="+t),responseType:"json"})).then((function(t){return e.token=t.headers["x-token"],e.question=(new E).hydrate(t),e.question}))}},{key:"prev",value:function(){var t=this;return p()(this.tokenizedRequest({method:"get",url:this.buildUrl("/prev/"+this.testId+"/?q="+this.question.id),responseType:"json"})).then((function(e){return t.token=e.headers["x-token"],t.question=(new E).hydrate(e),t.question}))}},{key:"addAnswer",value:function(t){this.storage.addAnswer(d.createImmutable(this.question.id,t))}},{key:"buildUrl",value:function(t){return this.host+"/tests/api/v1"+t}},{key:"getToken",value:function(){return this.token}},{key:"tokenizedRequest",value:function(t){return this.token&&(t.headers={token:this.token}),t}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),B=n("BOQu"),x=n.n(B),N=(n("Z9zv"),n("VaP8"),n("vMvy"),n("3xXD"),n("uBt9"),n("1Hrs"),n("uI+l"),n("zMAM"),n("8wvG"),n("N1ff"),n("wrb1"),n("wbXW"),n("o6Ch"),n("1T59"),n("QuQS")),T=n.n(N);n("qhgk"),n("aKct"),n("3b96"),n("rM4P");function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);if(e){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(i,t);var e,n,r,o=M(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).api=t.api,e.state={error:null,isLoading:!0,result:null},e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;this.api.result().then((function(e){t.setState(D(D({},t.state),{},{isLoading:!1,result:e.data}))})).catch((function(e){console.error(e),t.setState(D(D({},t.state),{},{isLoading:!1,error:"Произошла ошибка во время загрузки результата."}))}))}},{key:"render",value:function(){if(this.state.isLoading)return"Загрузка результата...";if(this.state.error)return this.state.error;var t="https://testonomica.com/tests/result/"+this.api.resultKey()+"/";return T.a.createElement("div",{className:"tnc-result"},T.a.createElement("h1",{className:"tnc-result__title"},this.props.test.name),T.a.createElement("h2",{className:"tnc-result__subtitle"},"Ваши результаты:"),T.a.createElement("article",{className:"tnc-result__text",dangerouslySetInnerHTML:{__html:this.state.result}}),T.a.createElement("p",null,T.a.createElement("span",{style:{fontWeight:"bold"}},"Постоянная ссылка на результат:"),T.a.createElement("br",null),T.a.createElement("a",{href:t},t)),T.a.createElement("button",{onClick:this.props.restartClickHandler,className:"tnc-btn tnc-result__btn-restart"},"Пройти тест заново"))}}])&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(i,t);var e,n,r,o=G(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(n=[{key:"render",value:function(){var t;return t=1===this.props.status?T.a.createElement("div",{className:"tnc-welcome__btns"},T.a.createElement("button",{onClick:this.props.restoreClickHandler,className:"tnc-btn tnc-welcome__btn tnc-welcome__btn_restore"},"Продолжить тест"),T.a.createElement("button",{onClick:this.props.startClickHandler,className:"tnc-btn tnc-welcome__btn tnc-welcome__btn_restart"},"Начать сначала")):T.a.createElement("div",{className:"tnc-welcome__btns"},T.a.createElement("button",{onClick:this.props.startClickHandler,className:"tnc-btn tnc-welcome__btn tnc-welcome__btn_start"},"Начать")),T.a.createElement("div",{className:"tnc-welcome"},T.a.createElement("h1",{className:"tnc-welcome__title"},this.props.test.name),T.a.createElement("div",{className:"tnc-welcome__duration"},this.props.test.duration," минут"),T.a.createElement("div",{className:"tnc-welcome__description",dangerouslySetInnerHTML:{__html:this.props.test.description}}),t)}}])&&J(e.prototype,n),r&&J(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);n("CE4t");function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ot(t);if(e){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(i,t);var e,n,r,o=nt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(n=[{key:"render",value:function(){var t=null,e=null;return this.props.enabledBack&&(t=T.a.createElement("button",{disabled:this.props.isLoading,onClick:this.props.goBackHandler,className:"tnc-btn tnc-q-nav__btn tnc-q-nav__btn_back"},"←")),this.props.enabledForward&&(e=T.a.createElement("button",{disabled:this.props.isLoading,onClick:this.props.goForwardHandler,className:"tnc-btn tnc-q-nav__btn tnc-q-nav__btn_forward"},"→")),T.a.createElement("div",{className:"tnc-q-form__nav tnc-q-nav"},t," ",e)}}])&&tt(e.prototype,n),r&&tt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pt(t);if(e){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ft(t)}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(i,t);var e,n,r,o=st(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).options=e.options.bind(ft(e)),e}return e=i,(n=[{key:"options",value:function(){var t=this;return this.props.options.map((function(e,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},e.img?T.a.createElement("img",{src:e.img,style:{maxHeight:"100px"},onClick:t.props.isLoading?null:function(){return t.props.selectionHandler(e.value)},className:"tnc-q-form__option-img",alt:"Изображение"}):T.a.createElement("button",{disabled:t.props.isLoading,onClick:function(){return t.props.selectionHandler(e.value)},className:"tnc-btn tnc-q-form__option-btn"},e.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(it,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.props.enabledForward,goForwardHandler:this.props.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&ct(e.prototype,n),r&&ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);n("p36N"),n("UuEv");function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jt(t);if(e){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(i,t);var e,n,r,o=wt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={options:t.options,values:[],enabledForward:!1},e.options=e.options.bind(_t(e)),e.goForwardHandler=e.goForwardHandler.bind(_t(e)),e}return e=i,(n=[{key:"clickHandler",value:function(t,e){var n=this.state.values,r=n.indexOf(t);r>-1?n.splice(r,1):n.push(t);var o=n.length===this.props.count;this.setState(ht(ht({},this.state),{},{values:n,enabledForward:o}))}},{key:"goForwardHandler",value:function(){this.props.goForwardHandler(this.state.values)}},{key:"options",value:function(){var t=this;return this.state.options.map((function(e,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},e.img?T.a.createElement("img",{src:e.img,style:{maxHeight:"100px"},onClick:function(){return t.props.selectionHandler(e.value)},className:"tnc-q-form__option-img "+ +(t.state.values.includes(e.value)?"tnc-q-form__option-img_selected":""),alt:"Изображение"}):T.a.createElement("button",{disabled:t.props.isLoading,onClick:function(){return t.props.selectionHandler(e.value)},className:"tnc-btn tnc-q-form__option-btn "+(t.state.values.includes(e.value)?"tnc-q-form__option-btn_selected":"")},e.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(it,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.state.enabledForward,goForwardHandler:this.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&vt(e.prototype,n),r&&vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ct(t);if(e){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ht(t)}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}(i,t);var e,n,r,o=qt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={values:[]},e.options=e.options.bind(Ht(e)),e.onChange=e.onChange.bind(Ht(e)),e}return e=i,(n=[{key:"onChange",value:function(t,e){var n=this.state.values;n[e]=t,this.setState({values:n})}},{key:"options",value:function(){var t=this;return this.props.options.map((function(e,n){var r;return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},T.a.createElement("input",{disabled:t.props.isLoading,onChange:function(e){return t.onChange(e.target.value,n)},placeholder:e.text,value:null!==(r=t.state.values[n])&&void 0!==r?r:"",className:"tnc-q-form__option-text"}))}))}},{key:"render",value:function(){var t=this;return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(it,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:!0,goForwardHandler:function(){return t.props.selectionHandler(t.state.values)},goBackHandler:this.props.goBackHandler}))}}])&&Et(e.prototype,n),r&&Et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=It(t);if(e){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dt(t)}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(i,t);var e,n,r,o=Ft(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={options:e.props.options,values:[]},e.options=e.options.bind(Dt(e)),e}return e=i,(n=[{key:"clickHandler",value:function(t,e){var n=this.state.values;n.push(t);var r=this.state.options;r.splice(e,1),this.setState({values:n,options:r}),0===r.length&&this.props.selectionHandler(n)}},{key:"options",value:function(){var t=this;return this.state.options.map((function(e,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},T.a.createElement("button",{disabled:t.props.isLoading,onClick:function(){return t.clickHandler(e.value,n)},className:"tnc-btn tnc-q-form__option-btn"},e.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options"},this.options()),T.a.createElement(it,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.props.enabledForward,goForwardHandler:this.props.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&Nt(e.prototype,n),r&&Nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jt(t);if(e){var o=Jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qt(t)}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(i,t);var e,n,r,o=Kt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).options=e.options.bind(Qt(e)),e}return e=i,(n=[{key:"options",value:function(){var t=this;return this.props.options.map((function(e,n){return T.a.createElement("div",{key:n,className:"tnc-q-form__option-wrapper"},T.a.createElement("button",{disabled:t.props.isLoading,onClick:function(){return t.props.selectionHandler(e.value)},className:"tnc-btn tnc-q-form__option-btn"},e.text))}))}},{key:"render",value:function(){return T.a.createElement("div",{className:"tnc-q__form tnc-q-form"},T.a.createElement("div",{className:"tnc-q-form__options tnc-q-form__options_gradient"},this.options()),T.a.createElement(it,{isLoading:this.props.isLoading,enabledBack:this.props.enabledBack,enabledForward:this.props.enabledForward,goForwardHandler:this.props.goForwardHandler,goBackHandler:this.props.goBackHandler}))}}])&&Mt(e.prototype,n),r&&Mt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=te(t);if(e){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(t,e){if(e&&("object"===Gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vt(t,e)}(i,t);var e,n,r,o=Yt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(n=[{key:"render",value:function(){var t=100*(this.props.number-1)/this.props.length;return T.a.createElement("div",{className:"tnc-q__progress-bar tnc-q-progress-bar"},T.a.createElement("div",{className:"tnc-q-progress-bar__counters"},T.a.createElement("span",null,this.props.number),"/",T.a.createElement("span",null,this.props.length)),T.a.createElement("div",{className:"tnc-q-progress-bar__line-wrapper"},T.a.createElement("div",{className:"tnc-q-progress-bar__line",role:"progressbar",style:{width:t+"%"},"aria-valuenow":t,"aria-valuemin":t,"aria-valuemax":"100"})))}}])&&Zt(e.prototype,n),r&&Zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ue(t);if(e){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ie(t,e)}(i,t);var e,n,r,o=ae(i);function i(){return re(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return T.a.createElement("article",{className:"tnc-q-loading"},T.a.createElement("h2",{className:"tnc-q-loading__name tnc-stage"}),T.a.createElement("div",{className:"tnc-q-loading__form"},T.a.createElement("div",{className:"tnc-q-loading__form-q tnc-q-loading__form-q_1 tnc-stage"}),T.a.createElement("div",{className:"tnc-q-loading__form-q tnc-q-loading__form-q_2 tnc-stage"})),T.a.createElement("div",{className:"tnc-q-loading__progress-bar tnc-stage"}))}}])&&oe(e.prototype,n),r&&oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);n("9idD");function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){ye(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ge(t);if(e){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(t){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&be(t,e)}(i,t);var e,n,r,o=he(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).interval=null,e.state={timer:t.timer>0?t.timer:null,timeOut:!1},e.timeOut=e.timeOut.bind(ve(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){if(this.state.timer){console.log("timer",this.state.timer);var t=this;this.interval=setInterval((function(){t.state.timer>1?t.setState(pe(pe({},t.state),{},{timer:t.state.timer-1})):(clearInterval(t.interval),t.timeOut())}),1e3)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"timeOut",value:function(){console.log("timeout"),this.setState(pe(pe({},this.state),{},{timeOut:!0}))}},{key:"render",value:function(){return this.state.timeOut?T.a.createElement("div",null,T.a.createElement("p",null,"Закончилось время, отведённое на вопрос (",this.props.timer," секунд). Нажмите кнопку продолжить, когда будете готовы продолжить тест."),T.a.createElement("button",{onClick:this.props.goForwardHandler,className:"btn btn-primary"},"Продолжить")):this.props.children}}])&&de(e.prototype,n),r&&de(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(N.Component);function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=He(t);if(e){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}(l,t);var e,n,r,o=Se(l);function l(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=o.call(this,t)).state={isLoading:!0,error:null,question:null},e.api=t.api;var n={};return n[i]=yt,n[a]=kt,n[c]=Bt,n[u]=At,n[s]=Xt,e.formTypeMap=n,e.selectionHandler=e.selectionHandler.bind(Re(e)),e.goForwardHandler=e.goForwardHandler.bind(Re(e)),e.goBackHandler=e.goBackHandler.bind(Re(e)),e}return e=l,(n=[{key:"componentDidMount",value:function(){"restore"===this.props.task?this.next():this.start()}},{key:"selectionHandler",value:function(t){this.saveAndForward(t)}},{key:"start",value:function(){this.setState(je(je({},this.state),{},{isLoading:!0})),this.api.clear(),this.wrapQuestionResponse(this.api.first())}},{key:"next",value:function(){this.setState(je(je({},this.state),{},{isLoading:!0})),this.wrapQuestionResponse(this.api.next())}},{key:"prev",value:function(){this.setState(je(je({},this.state),{},{isLoading:!0})),this.wrapQuestionResponse(this.api.prev())}},{key:"goForwardHandler",value:function(){this.saveAndForward(null)}},{key:"goBackHandler",value:function(){this.prev()}},{key:"saveAndForward",value:function(t){this.api.addAnswer(t),this.api.progressFull()?this.props.questionsOverHandler():this.next()}},{key:"wrapQuestionResponse",value:function(t){var e=this;this.wrapResponse(t,(function(t){e.setState(je(je({},e.state),{},{isLoading:!1,question:t}))}))}},{key:"wrapResponse",value:function(t,e){var n=this;t.then(e).catch((function(t){var e="Произошла ошибка во время загрузки.";403===t.response.status&&(e="Отказано в доступе."),n.setState(je(je({},n.state),{},{isLoading:!1,error:e})),console.error(t.response.data.detail),console.error(t)}))}},{key:"render",value:function(){if(this.state.error)return this.state.error;if(null===this.state.question)return T.a.createElement(se,null);var t=this.state.question,e=t.options,n=t.type.get(),r=t.enabledForward&&t.number<t.length,o=t.enabledBack&&t.number>1,i=this.formTypeMap[n];return T.a.createElement("article",{className:"tnc-q tnc-q__"+this.props.testId+"-"+t.id},T.a.createElement(we,{timer:t.timer,goForwardHandler:this.goForwardHandler,key:t.id},t.img?T.a.createElement("img",{className:"tnc-q__img",src:t.img,alt:"Задание"}):null,T.a.createElement("h2",{className:"tnc-q__name"},t.name),t.text?T.a.createElement("div",{className:"tnc-q__text",dangerouslySetInnerHTML:{__html:t.text}}):null,T.a.createElement(i,{key:t.id,options:e,isLoading:this.state.isLoading,enabledBack:o,enabledForward:r,selectionHandler:this.selectionHandler,goForwardHandler:this.goForwardHandler,goBackHandler:this.goBackHandler}),T.a.createElement(ee,{length:t.length,number:t.number})))}}])&&Pe(e.prototype,n),r&&Pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(N.Component),Be=function(t,e,n,r,o,i,a,c){"function"!=typeof c&&(c=function(){});var u={cloudPayments:{CustomerReceipt:{Items:[{label:e,price:n,quantity:r,amount:o,vat:0,method:1,object:4,measurementUnit:"шт"}],taxationSystem:1,isBso:!1,AgentSign:null,amounts:{electronic:o}}}};(new cp.CloudPayments).pay("charge",{publicId:"pk_4b7104d27e7b85f12bb8524658b16",description:e,amount:o,currency:"RUB",invoiceId:t,skin:"mini",data:u},{onSuccess:i,onFail:a,onComplete:c})};function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(n),!0).forEach((function(e){Fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ze(t)}function ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(i,t);var e,n,r,o=Ie(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoading:!0,isOpened:!1,error:null},e.onSuccess=e.onSuccess.bind(ze(e)),e.onFail=e.onFail.bind(ze(e)),e.initPaymentWidget=e.initPaymentWidget.bind(ze(e)),e.setBodyHeightAuto=e.setBodyHeightAuto.bind(ze(e)),e.setBodyFixHeight=e.setBodyFixHeight.bind(ze(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;this.wrapRequest(this.props.api.hasAccess(),(function(e){t.setState(Te(Te({},t.state),{},{isLoading:!1})),e?t.props.onAccessed():t.initPaymentWidget()}))}},{key:"componentWillUnmount",value:function(){this.setBodyHeightAuto()}},{key:"initPaymentWidget",value:function(){var t=this;this.setState(Te(Te({},this.state),{},{isLoading:!0})),this.wrapRequest(this.props.api.getOrder(),(function(e){t.setBodyFixHeight(),new Be(e.id,e.description,e.price,e.count,e.sum,t.onSuccess,t.onFail),t.setState(Te(Te({},t.state),{},{isOpened:!0,isLoading:!1}))}))}},{key:"onSuccess",value:function(){var t=this;this.setBodyHeightAuto(),this.setState(Te(Te({},this.state),{},{isOpened:!1})),this.wrapRequest(this.props.api.grand(),(function(){t.props.onAccessed()}))}},{key:"onFail",value:function(){this.setBodyHeightAuto(),this.setState(Te(Te({},this.state),{},{isOpened:!1}))}},{key:"setBodyFixHeight",value:function(){document.body.style.height="600px"}},{key:"setBodyHeightAuto",value:function(){document.body.style.height="auto"}},{key:"wrapRequest",value:function(t,e){var n=this;t.then(e).catch((function(t){var e="Произошла ошибка во время загрузки.";403===t.response.status&&(e="Отказано в доступе."),n.setState(Te(Te({},n.state),{},{isLoading:!1,error:e})),console.error(t.response.data.detail),console.error(t)}))}},{key:"render",value:function(){return this.state.error?T.a.createElement("div",{className:"container"},this.state.error):this.state.isLoading||this.state.isOpened?null:T.a.createElement("div",{className:"container"},T.a.createElement("div",null,"Требуется оплата."),T.a.createElement("button",{className:"btn btn-primary",onClick:this.initPaymentWidget},"Нажмите, чтобы перейти к оплате"))}}])&&Le(e.prototype,n),r&&Le(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(T.a.Component);function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(n),!0).forEach((function(e){Qe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ge=function(t){var e=t.api,n=Je(Object(N.useState)({isLoading:!0,error:null,test:null,screen:null,quizTask:null,mainDivRef:null}),2),r=n[0],o=n[1],i=function(e){t.dispatcher&&t.dispatcher.dispatchEvent(e)},a=function(t,e){t.then(e).catch((function(t){var e="Произошла ошибка во время загрузки.";403===t.response.status&&(e="Отказано в доступе."),o(We(We({},r),{},{isLoading:!1,error:e})),console.error(t.response.data.detail),console.error(t)}))},c=function(){o(We(We({},r),{},{screen:"quiz",quizTask:"start"}))};return Object(N.useEffect)((function(){new ResizeObserver((function(t){i(new CustomEvent("resize",{detail:t}))})).observe(document.body),a(e.description(),(function(t){e.progressFull()&&1===e.progressStatus()?a(e.saveResult(),(function(e){i(new CustomEvent("loaded")),i(new CustomEvent("finish",{detail:{key:e}})),o(We(We({},r),{},{isLoading:!1,test:t,screen:"result"}))})):2===e.progressStatus()?(i(new CustomEvent("loaded")),o(We(We({},r),{},{isLoading:!1,test:t,screen:"result"}))):(i(new CustomEvent("loaded")),t.paid?o(We(We({},r),{},{isLoading:!1,test:t,screen:"payment"})):o(We(We({},r),{},{isLoading:!1,test:t,screen:"welcome"})))}))}),[]),r.isLoading?null:r.error?r.error:"payment"===r.screen?T.a.createElement(Ue,{api:e,onAccessed:function(){o(We(We({},r),{},{isLoading:!1,screen:"welcome"}))},dispatcher:t.dispatcher}):r.test?T.a.createElement("div",{id:"tnc",className:"tnc"},T.a.createElement("div",{className:"container"},"result"===r.screen?T.a.createElement(W,{api:e,test:r.test,restartClickHandler:c}):null,"welcome"===r.screen?T.a.createElement(Y,{test:r.test,status:e.progressStatus(),startClickHandler:c,restoreClickHandler:function(){o(We(We({},r),{},{screen:"quiz",quizTask:"restore"}))}}):null,"quiz"===r.screen?T.a.createElement(Ce,{testId:e.testId,api:e,questionsOverHandler:function(){o(We(We({},r),{},{isLoading:!0})),a(e.saveResult(),(function(t){i(new CustomEvent("finish",{detail:{key:t}})),o(We(We({},r),{},{isLoading:!1,screen:"result"}))}))},task:r.quizTask}):null)):null};function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ve,Ye,$e,tn=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.testId=e,this.host=n,this.token=r,this.dispatcher=new o}var e,n,r;return e=t,(n=[{key:"createApp",value:function(t){var e=new C({testId:this.testId,host:this.host,token:this.token});x.a.render(T.a.createElement(Ge,{api:e,dispatcher:this.dispatcher}),t)}},{key:"addEventListener",value:function(t,e){this.dispatcher.addEventListener(t,e)}}])&&Ze(e.prototype,n),r&&Ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),en=(n("GRnc"),document.getElementById("testonomica_app")),nn=en.getAttribute("data-test");if(!nn)throw new Error("tag must include attribute: data-test");var rn=null!==(Ve=en.getAttribute("data-host"))&&void 0!==Ve?Ve:"https://testonomica.com",on=null!==(Ye=en.getAttribute("data-token"))&&void 0!==Ye?Ye:null,an=null!==($e=en.getAttribute("data-init"))&&void 0!==$e?$e:null;window.testonomica=new tn(nn,rn,on),an&&"auto"!==an||window.testonomica.createApp(en)}},[["lXwp","runtime",1]]]);