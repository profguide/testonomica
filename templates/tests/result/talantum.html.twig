{% extends('tests/result.html.twig') %}

{% block result %}
    {% set debug = app.request.get('debug') == 1 ? 1 : 0 %}
    <div style="margin-top: -30px;">
        {% for skill in skills %}
            <div class="p-5 {{ loop.index % 2 == 0 ? 'bg-light' : '' }}">
                <div class="container">
                    <h5>{{ skill.name }}</h5>
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar" role="progressbar" style="width: {{ skill.total.percentage }}%;"
                             aria-valuenow="{{ skill.total.percentage }}"
                             aria-valuemin="0" aria-valuemax="100">{{ skill.total.percentage }}%
                        </div>
                    </div>

                    <div class="mt-4" style="opacity: 0.5">
                        {% for group in skill.groups %}
                            <div class="mt-2">
                                <h6>{{ group.name }}</h6>
                                <div class="progress">
                                    <div class="progress-bar bg-dark" role="progressbar" style="width: {{ group.percentage }}%"
                                         aria-valuenow="{{ group.percentage }}"
                                         aria-valuemin="0" aria-valuemax="100">
                                        {{ group.percentage }}% ({{ group.sum }}/{{ group.max }})
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>

                    <div class="mt-3">
                        <h5>Выводы</h5>
                        <p>...</p>
                    </div>

                    <div class="mt-3">
                        <h5>Советы</h5>
                        <p>...</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock result %}