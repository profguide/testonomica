{% extends 'base.html.twig' %}

{% block title %}Документация{% endblock %}

{% block body %}
    <div class="container">
        <h1>Интеграция</h1>

        <p>На данной странице описаны все доступные варианты интеграции.</p>
        <p>На Тестономике представлены как бесплатные, так и платные тесты. Это означает и различие в способе установки тестов на ваш сайт.</p>

        <h2>Интеграция бесплатного теста</h2>
        <p></p>
        <code>
            <span>&lt;script src="https://cdn.jsdelivr.net/gh/davidtema/testonomica_widget@1.0.0/index.min.js"&gt;&lt;/script&gt;<br/>&lt;</span><span>div </span><span>id</span><span>="testonomica_app" </span><span>data-test</span><span>="{TEST_ID}"</span><span>&gt;&lt;/</span><span>div</span><span>&gt;</span>
        </code>
        <br>

        <hr>

        <h2>Виды интеграции с платежом.</h2>
        <ul>
            <li>Интеграция через виджет на сайте</li>
            <li>Интеграция с переходом на Тестономику</li>
        </ul>

        <p>Оба подхода предполагают изначально получение вами {SECRETE_TOKEN}, {TEST_ID} и {SERVICE_NAME} и последующее получение {PUBLIC_TOKEN} с этими параметрами.</p>
        <p>Оба варианта интеграции предполагают приём платежа только непосредственно Тестономикой.</p>

        <h3>Получение секретного токена {SECRET_TOKEN}, {TEST_ID} и {SERVICE_NAME}</h3>
        <p>Отправьте запрос нам на почту <a href="mailto:info@profguide.ru">info@profguide.ru</a>: укажите ваше имя,
            адрес сайта, какой тест вы планируете установить.
            И мы вышлем ваш секретный токен {SECRET_TOKEN}, {TEST_ID} и {SERVICE_NAME},
            которые понадобятся для следующих шагов. Будьте внимательны! {SECRET_TOKEN} не должен попасть
            третьим лицам.</p>

        <h3>Получение {PUBLIC_TOKEN}</h3>
        <p>Публичный токен получается в скрытом запросе по URL (backend, curl). Конфигурацию URL должны знать только вы
            и она
            должна остаться в <b>тайне от третьих лиц</b>.</p>
        <code>
            https://testonomica.com/partner/api/token/?token={SECRETE_TOKEN}&user={USER_ID}&service={SERVICE_NAME}
        </code>
        <br/>
        <br/>
        <p>... где {USER_ID} - уникалный идентификатор пользователя на вашем сайте.</p>
        <p>
            Ответом будет публичный токен в формате JSON:<br/>
            {"token":"cf738dd7-a138-4fa6-b3fd-52eef8ae2a92"}.<br>
            В данном примере {PUBLIC_TOKEN} - это <b>cf738dd7-a138-4fa6-b3fd-52eef8ae2a92</b>.
        </p>

        <h3>Интеграция через виджет на сайте</h3>
        <p><a href="https://www.profguide.io/test/testonomica-widget/">Демо</a>. Данный способ позволяет загрузить тест на вашем сайте в Iframe.</p>
        <p>Необходимо установить HTML-код в месте предполагаемого отображения теста и подставить полученные ранее параметры.</p>
        <code>
            <span>&lt;script src="https://cdn.jsdelivr.net/gh/davidtema/testonomica_widget@1.0.0/index.min.js"&gt;&lt;/script&gt;<br/>&lt;</span><span>div </span><span>id</span><span>="testonomica_app" </span><span>data-test</span><span>="{TEST_ID}" </span><span>data-token</span><span>="{PUBLIC_TOKEN}"</span><span>&gt;&lt;/</span><span>div</span><span>&gt;</span>
        </code>
        <br/>

        <hr>

        <h3>Интеграция с переходом на Тестономику</h3>
        <p><a href="https://www.profguide.io/test/testonomica-direct/">Демо</a>. Данный способ отображает тест не на вашем сайте, а на Тестономике.</p>
        <p>Всё что нужно сделать - это направить пользователя по следующему URL с помощью редиректа или по кнопке на сайте:</p>
        <code>
            https://testonomica.com/partner/provide/?token={PUBLIC_TOKEN}
        </code>

        <hr>
        Напишите нам на <a href="mailto:info@profguide.ru">info@profguide.ru</a> если у вас остались вопросы или требуется помощь.

    </div>
{% endblock %}
